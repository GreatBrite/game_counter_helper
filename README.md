# BMW Helper Bot

–ë–æ—Ç –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π "–ö–æ–ø–ª—é –Ω–∞ BMW –¥–µ–Ω—å N" –≤ Telegram –∫–∞–Ω–∞–ª.

## –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç

- –ö–∞–∂–¥—ã–π –¥–µ–Ω—å –≤ 12:00 –±–æ—Ç –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –ø–æ—Å–ª–µ–¥–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è –≤ –∫–∞–Ω–∞–ª–µ
- –ï—Å–ª–∏ –Ω–∞—Ö–æ–¥–∏—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ —Å "–ö–æ–ø–ª—é –Ω–∞ BMW –¥–µ–Ω—å" –∑–∞ —Å–µ–≥–æ–¥–Ω—è - –Ω–∏—á–µ–≥–æ –Ω–µ –¥–µ–ª–∞–µ—Ç
- –ï—Å–ª–∏ –Ω–µ –Ω–∞—Ö–æ–¥–∏—Ç - –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º –Ω–æ–º–µ—Ä–æ–º –¥–Ω—è
- –°—á–∏—Ç–∞–µ—Ç –¥–Ω–∏ —Å 13 –∏—é–ª—è 2025 –≥–æ–¥–∞

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

1. –£—Å—Ç–∞–Ω–æ–≤–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
```bash
pip install -r requirements.txt
```

2. –°–æ–∑–¥–∞–π —Ñ–∞–π–ª `.env` –Ω–∞ –æ—Å–Ω–æ–≤–µ `env_example.txt` –∏ –∑–∞–ø–æ–ª–Ω–∏:
   - `BOT_TOKEN` - —Ç–æ–∫–µ–Ω —Ç–≤–æ–µ–≥–æ –±–æ—Ç–∞ –æ—Ç @BotFather
   - `CHANNEL_ID` - ID —Ç–≤–æ–µ–≥–æ –∫–∞–Ω–∞–ª–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä @mychannel –∏–ª–∏ -1001234567890)

3. –î–æ–±–∞–≤—å –±–æ—Ç–∞ –≤ –∫–∞–Ω–∞–ª –∫–∞–∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ —Å –ø—Ä–∞–≤–∞–º–∏ –Ω–∞ –æ—Ç–ø—Ä–∞–≤–∫—É —Å–æ–æ–±—â–µ–Ω–∏–π

## –ó–∞–ø—É—Å–∫

```bash
python main.py
```

## –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –±–æ—Ç–∞
```bash
# –ü–æ–¥–∫–ª—é—á–∏—Å—å –∫ —Å–µ—Ä–≤–µ—Ä—É
ssh root@46.149.71.220

# –ü–µ—Ä–µ–π–¥–∏ –≤ –ø–∞–ø–∫—É –±–æ—Ç–∞
cd /var/www/bmw_counter_helper

# –ü—Ä–æ–≤–µ—Ä—å —Å—Ç–∞—Ç—É—Å PM2 (–≥–ª–∞–≤–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞)
pm2 status

# –ü–æ—Å–º–æ—Ç—Ä–∏ –ª–æ–≥–∏ –±–æ—Ç–∞
pm2 logs bmw-bot

# –ü–æ—Å–º–æ—Ç—Ä–∏ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 50 —Å—Ç—Ä–æ–∫ –ª–æ–≥–æ–≤
pm2 logs bmw-bot --lines 50

# –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ –ø—Ä–æ—Ü–µ—Å—Å —Ä–∞–±–æ—Ç–∞–µ—Ç
ps aux | grep python

# –ü–æ—Å–º–æ—Ç—Ä–∏ —Å–∏—Å—Ç–µ–º–Ω–æ–µ –≤—Ä–µ–º—è
date

# –ü—Ä–æ–≤–µ—Ä—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏
pm2 monit
```

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–æ—Ç–æ–º
```bash
pm2 restart bmw-bot    # –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å
pm2 stop bmw-bot       # –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å
pm2 start bmw-bot      # –∑–∞–ø—É—Å—Ç–∏—Ç—å
pm2 delete bmw-bot     # —É–¥–∞–ª–∏—Ç—å –∏–∑ PM2
```

### –†—É—á–Ω–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏—è
```bash
# –ê–∫—Ç–∏–≤–∏—Ä—É–π –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
source venv/bin/activate

# –ó–∞–ø—É—Å—Ç–∏ —Ä—É—á–Ω—É—é –æ—Ç–ø—Ä–∞–≤–∫—É
python manual_send.py

# –ò–ª–∏ —á–µ—Ä–µ–∑ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
venv/bin/python manual_send.py
```

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–¥–∞
```bash
# –û–±–Ω–æ–≤–∏ –∫–æ–¥ —Å GitHub
git pull

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏ –±–æ—Ç–∞
pm2 restart bmw-bot

# –ü—Ä–æ–≤–µ—Ä—å –ª–æ–≥–∏
pm2 logs bmw-bot
```

### –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

**–ï—Å–ª–∏ –±–æ—Ç –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏—è:**
1. –ü—Ä–æ–≤–µ—Ä—å —Å—Ç–∞—Ç—É—Å: `pm2 status`
2. –ü–æ—Å–º–æ—Ç—Ä–∏ –ª–æ–≥–∏: `pm2 logs bmw-bot`
3. –ü—Ä–æ–≤–µ—Ä—å .env —Ñ–∞–π–ª: `cat .env`
4. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏ –±–æ—Ç–∞: `pm2 restart bmw-bot`

**–ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã —Å DNS:**
```bash
# –î–æ–±–∞–≤—å IPv4 DNS —Å–µ—Ä–≤–µ—Ä—ã
resolvectl dns eth0 8.8.8.8 1.1.1.1

# –ü—Ä–æ–≤–µ—Ä—å —Å—Ç–∞—Ç—É—Å
resolvectl status

# –ü—Ä–æ–≤–µ—Ä—å –ø–∏–Ω–≥
ping google.com
```

**–ï—Å–ª–∏ git –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
```bash
# –°–∫–∞—á–∞–π —Ñ–∞–π–ª –Ω–∞–ø—Ä—è–º—É—é
wget https://raw.githubusercontent.com/ONESECTOR/bmw_counter_helper/main/main.py -O main_new.py
mv main_new.py main.py
pm2 restart bmw-bot
```

## –ù–∞—Å—Ç—Ä–æ–π–∫–∏

–í `config.py` –º–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å:
- `START_DATE` - –¥–∞—Ç–∞ –Ω–∞—á–∞–ª–∞ –æ—Ç—Å—á–µ—Ç–∞
- `SEND_TIME` - –≤—Ä–µ–º—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏—è
- `MESSAGE_TEMPLATE` - —à–∞–±–ª–æ–Ω —Å–æ–æ–±—â–µ–Ω–∏—è

## –°—Ç–∞—Ç—É—Å—ã PM2

- `online` - –±–æ—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç ‚úÖ
- `stopped` - –±–æ—Ç –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω ‚ùå
- `errored` - –æ—à–∏–±–∫–∞ –≤ –±–æ—Ç–µ ‚ö†Ô∏è
- `restarting` - –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è üîÑ
